<div class="main-div">
  <app-toolbar></app-toolbar>
  <mat-card style="display: flex; flex-direction: row">
    <div class="left-panel">
      <mat-nav-list>
        <mat-list-item (click)="setMatItem('1')">
          <button mat-button matTooltip="Personal information">
            <mat-icon>perm_identity</mat-icon>Personal information
          </button>
        </mat-list-item>
        <mat-list-item (click)="setMatItem('2')">
          <button mat-button matTooltip="Address">
            <mat-icon>location_on</mat-icon>Address
          </button>
        </mat-list-item>
        <mat-list-item
          (click)="setMatItem('3')"
          *ngIf="user?.role === Role.ROLE_PATIENT"
          ><button mat-button matTooltip="My Doctor">
            <mat-icon>healing</mat-icon>My doctor
          </button></mat-list-item
        >
        <mat-list-item (click)="setMatItem('4')"
          ><button mat-button matTooltip="Change password">
            <mat-icon>password</mat-icon>Change password
          </button></mat-list-item
        >
      </mat-nav-list>
    </div>
    <!-- Perosnal infomation TAB -->
    <div
      class="right-panel"
      fxLayoutAlign="center center"
      *ngIf="matItem === '1'"
    >
      <form fxLayout="column" class="form" [formGroup]="profileForm">
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>First Name</mat-label>
          <input
            matInput
            formControlName="firstName"
            [disabled]="!isEditMode"
          />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Last Name</mat-label>
          <input matInput formControlName="lastName" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>PESEL</mat-label>
          <input matInput formControlName="pesel" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Phone number</mat-label>
          <input matInput formControlName="phoneNumber" />
        </mat-form-field>

        <mat-form-field
          *ngIf="user?.role === 'ROLE_PATIENT'"
          appearance="outline"
        >
          <mat-label>Safety person number</mat-label>
          <input matInput formControlName="safetyNumber" />
        </mat-form-field>

        <mat-form-field
          *ngIf="user?.role === 'ROLE_PATIENT'"
          appearance="outline"
        >
          <mat-label>Diabetes Type</mat-label>
          <mat-select
            placeholder="Select your diabetes type"
            formControlName="diabetesType"
          >
            <mat-option value="TYPE_1">Type 1</mat-option>
            <mat-option value="TYPE_2">Type 2</mat-option>
            <mat-option value="GESTATIONAL">Gestational</mat-option>
            <mat-option value="OTHER">Other</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field
          appearance="outline"
          *ngIf="user?.role === Role.ROLE_DOCTOR"
        >
          <mat-label>Pwz number</mat-label>
          <input matInput formControlName="pwzNumber" />
        </mat-form-field>

        <button mat-raised-button color="warn" (click)="toggleEditMode()">
          Edit
        </button>
        <button
          mat-raised-button
          type="button"
          class="save-button"
          color="primary"
          (click)="toggleSave()"
        >
          Save
        </button>
      </form>
    </div>
    <!-- Address TAB -->
    <div
      class="right-panel"
      fxLayoutAlign="center center"
      *ngIf="matItem === '2'"
    >
      <form fxLayout="column" class="form" [formGroup]="addressForm">
        <mat-form-field appearance="outline">
          <mat-label>City</mat-label>
          <input matInput formControlName="city" />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Postal Code</mat-label>
          <input matInput formControlName="postalCode" />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Street</mat-label>
          <input matInput formControlName="street" />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>House Number</mat-label>
          <input matInput formControlName="houseNumber" />
        </mat-form-field>
        <button mat-raised-button color="warn" (click)="toggleEditMode()">
          Edit
        </button>
        <button
          mat-raised-button
          type="submit"
          class="save-button"
          color="primary"
          (click)="toggleSave()"
        >
          Save
        </button>
      </form>
    </div>
    <!-- ASSIGNED DOCTOR TAB -->
    <div
      class="right-panel"
      fxLayoutAlign="center center"
      *ngIf="matItem === '3'"
    >
      <form fxLayout="column" class="form" [formGroup]="doctorForm">
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>First Name</mat-label>
          <input matInput formControlName="firstName" />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Last Name</mat-label>
          <input matInput formControlName="lastName" />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Pwz Number</mat-label>
          <input matInput formControlName="pwzNumber" />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Phone Number</mat-label>
          <input matInput formControlName="phoneNumber" />
        </mat-form-field>
      </form>
    </div>
    <div
      class="right-panel"
      fxLayoutAlign="center center"
      *ngIf="matItem === '4'"
    >
      <form fxLayout="column" class="form" [formGroup]="passwordForm">
        <mat-form-field appearance="outline">
          <mat-label>Old password</mat-label>
          <input matInput formControlName="oldPassword" />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>New password</mat-label>
          <input matInput formControlName="newPassword" />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Repeat new password</mat-label>
          <input matInput formControlName="newPasswordRepeat" />
        </mat-form-field>
        <button
          mat-raised-button
          type="submit"
          class="save-button"
          color="primary"
          (click)="toggleSave()"
        >
          Change password
        </button>
      </form>
    </div>
  </mat-card>
</div>
